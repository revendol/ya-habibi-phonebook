<div class="content content-fixed content-auth">
    <div class="container">
        <div class="media align-items-stretch justify-content-center ht-100p pos-relative">
            <div class="sign-wrapper mg-lg-l-50 mg-xl-l-60">
                <form action="/register" method="post">
                    <div class="wd-100p">
                        <h3 class="tx-color-01 mg-b-5">Sign Up</h3>
                        <p class="tx-color-03 tx-16 mg-b-40">Welcome to Ya-Habibi! Please signup to continue.</p>

                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" class="form-control" name="first_name" required placeholder="First name" id="first_name">
                            <p class="tx-11-f tx-danger mt-1" id="fn_msg"></p>
                        </div>
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" class="form-control" name="last_name" required placeholder="Last name" id="last_name">
                            <p class="tx-11-f tx-danger mt-1" id="ln_msg"></p>
                        </div>
                        <div class="form-group">
                            <label>Email address</label>
                            <input type="email" class="form-control" name="email" required placeholder="yourname@yourmail.com" id="email">
                            <p class="tx-11-f tx-danger mt-1" id="e_msg"></p>
                        </div>
                        <div class="form-group">
                            <div class="d-flex justify-content-between mg-b-5">
                                <label class="mg-b-0-f">Password</label>
                            </div>
                            <input type="password" class="form-control" name="password" required placeholder="Enter your password" id="password">
                            <p class="tx-11-f tx-danger mt-1" id="p_msg"></p>
                        </div>
                        <div class="form-group">
                            <div class="d-flex justify-content-between mg-b-5">
                                <label class="mg-b-0-f">Confirm Password</label>
                            </div>
                            <input type="password" class="form-control" name="confirm_password" required placeholder="Enter your password confirmation" id="confirm_password">
                            <p class="tx-11-f tx-danger mt-1" id="cp_msg"></p>
                        </div>
                        <button class="btn btn-brand-02 btn-block" id="sign_in_btn">Sign In</button>
                        <div class="divider-text">or</div>
                        <div class="tx-13 mg-t-20 tx-center">Already have an account? <a href="/">Sign In</a></div>
                    </div>
                </form>
            </div><!-- sign-wrapper -->
        </div><!-- media -->
    </div><!-- container -->
</div><!-- content -->
<script>
    function validateEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }
    $(document).ready(function (){

        $('#sign_in_btn').click(function (e){
            var flag = false;
            var data = {
                first_name: $('#first_name').val(),
                last_name: $('#last_name').val(),
                email: $('#email').val(),
                password: $('#password').val(),
                confirm_password: $('#confirm_password').val()
            };
            if(data.first_name == null || data.first_name == '' || data.first_name == undefined){
                flag = true;
                $('#first_name').css('border','2px solid red');
                $('#fn_msg').text('First name required to sign up.');
            }
            if(data.last_name == null || data.last_name == '' || data.last_name == undefined){
                flag = true;
                $('#last_name').css('border','2px solid red');
                $('#ln_msg').text('Last name required to sign up.');
            }
            if(data.email == null || data.email == '' || data.email == undefined){
                flag = true;
                $('#email').css('border','2px solid red');
                $('#e_msg').text('Email required to sign up.');
            }
            if(!validateEmail(data.email)){
                flag = true;
                $('#email').css('border','2px solid red');
                $('#e_msg').text('Provided email is invalid.');
            }
            if(data.password == null || data.password == '' || data.password == undefined){
                flag = true;
                $('#password').css('border','2px solid red');
                $('#p_msg').text('Password required to sign up.');
            }
            if(data.confirm_password == null || data.confirm_password == '' || data.confirm_password == undefined){
                flag = true;
                $('#confirm_password').css('border','2px solid red');
                $('#cp_msg').text('Confirm password required to sign up.');
            }
            if(data.password !== data.confirm_password){
                flag = true;
                $('#password').css('border','2px solid red');
                $('#confirm_password').css('border','2px solid red');
                $('#p_msg').text('Password and confirmation password did not match.');
            }
            /************************************************
             * Password rules                               *
             * Must have at least 1 uppercase character ([A-Z])    *
             * Must have at least 1 lower case character  ([a-z])   *
             * Must have at least 1 number                 ([0-9]) *
             * Must have at least 1 special character       *
             * Must have at least 8 character length        *
             ************************************************/
            if(data.password){
                if (data.password.length <8){
                    flag = true;
                    $('#p_msg').text('Password can not be smaller than 8 character.');
                }
                // var u = ([A-Z]);
                // if()
            }

            if(flag){
                e.preventDefault();
            }
        })
    });
</script>
